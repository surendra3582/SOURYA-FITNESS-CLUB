// ЁЯУ▒ SOURYA FITNESS CLUB - React Native (With Razorpay Payment)

import React from 'react';
import { View, Text, TouchableOpacity, FlatList } from 'react-native';
import RazorpayCheckout from 'react-native-razorpay';
import { useState } from 'react';

const membershipPlans = [
  { id: '1', name: 'рдмреЗрд╕рд┐рдХ рдкреНрд▓реЕрди', price: 800 },
  { id: '2', name: 'рдкреНрд░рд┐рдорд┐рдпрдо рдкреНрд▓реЕрди', price: 1200 },
];

const slots = [
  'рд╕рдХрд╛рд│реА рен рддреЗ рео',
  'рд╕рдХрд╛рд│реА рео рддреЗ реп',
  'рд╕рдВрдзреНрдпрд╛рдХрд╛рд│реА рел рддреЗ рем',
  'рд╕рдВрдзреНрдпрд╛рдХрд╛рд│реА рем рддреЗ рен'
];

export default function GymApp() {
  const [selectedSlot, setSelectedSlot] = useState(null);
  const [selectedPlan, setSelectedPlan] = useState(null);

  const handlePayment = () => {
    if (!selectedSlot || !selectedPlan) {
      alert('рдХреГрдкрдпрд╛ рдПрдХ рд╕реНрд▓реЙрдЯ рдЖрдгрд┐ рдкреНрд▓реЕрди рдирд┐рд╡рдбрд╛.');
      return;
    }

    const options = {
      description: 'рдЬрд┐рдо рдореЗрдВрдмрд░рд╢рд┐рдк рдкреЗрдореЗрдВрдЯ',
      image: 'https://yourgymlogo.com/logo.png',
      currency: 'INR',
      key: 'rzp_test_1234567890abcdef', // Replace with your Razorpay Test Key
      amount: selectedPlan.price * 100,
      name: 'GYM рдирд╛рд╡',
      prefill: {
        email: 'user@example.com',
        contact: '9999999999',
        name: 'рдпреБрдЬрд░ рдирд╛рд╡'
      },
      theme: { color: '#3399cc' }
    };

    RazorpayCheckout.open(options).then((data) => {
      alert(`рдкреЗрдореЗрдВрдЯ рдпрд╢рд╕реНрд╡реА! рдмреБрдХрд┐рдВрдЧ рдЭрд╛рд▓реЗ:\n\nрд╕реНрд▓реЙрдЯ: ${selectedSlot}\nрдкреНрд▓реЕрди: ${selectedPlan.name}`);
    }).catch((error) => {
      alert(`рдкреЗрдореЗрдВрдЯ рдЕрдпрд╢рд╕реНрд╡реА: ${error.description}`);
    });
  };

  return (
    <View style={{ padding: 20 }}>
      <Text style={{ fontSize: 24, fontWeight: 'bold', marginBottom: 20 }}>ЁЯПЛя╕ПтАНтЩВя╕П рдЖрдордЪрдВ рдЬрд┐рдо рдЕтАНреЕрдк</Text>

      <Text style={{ fontSize: 18, marginBottom: 10 }}>ЁЯХТ рд╕реНрд▓реЙрдЯ рдирд┐рд╡рдбрд╛:</Text>
      {slots.map((slot, index) => (
        <TouchableOpacity
          key={index}
          onPress={() => setSelectedSlot(slot)}
          style={{
            padding: 10,
            backgroundColor: selectedSlot === slot ? '#4ade80' : '#e5e7eb',
            borderRadius: 10,
            marginBottom: 10,
          }}>
          <Text style={{ fontSize: 16 }}>{slot}</Text>
        </TouchableOpacity>
      ))}

      <Text style={{ fontSize: 18, marginTop: 20, marginBottom: 10 }}>ЁЯТ│ рдореЗрдВрдмрд░рд╢рд┐рдк рдкреНрд▓реЕрди:</Text>
      {membershipPlans.map((plan) => (
        <TouchableOpacity
          key={plan.id}
          onPress={() => setSelectedPlan(plan)}
          style={{
            padding: 10,
            backgroundColor: selectedPlan?.id === plan.id ? '#facc15' : '#e5e7eb',
            borderRadius: 10,
            marginBottom: 10,
          }}>
          <Text style={{ fontSize: 16 }}>{plan.name} - тВ╣{plan.price} / рдорд╣рд┐рдирд╛</Text>
        </TouchableOpacity>
      ))}

      <TouchableOpacity
        onPress={handlePayment}
        style={{
          marginTop: 30,
          backgroundColor: '#3b82f6',
          padding: 15,
          borderRadius: 10,
          alignItems: 'center',
        }}>
        <Text style={{ color: 'white', fontSize: 18 }}>ЁЯТ│ рдкреЗрдореЗрдВрдЯ рдХрд░реВрди рдмреБрдХ рдХрд░рд╛</Text>
      </TouchableOpacity>
    </View>
  );
}
